(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{"+F2W":function(t,e,n){"use strict";var i={props:{state:{type:Boolean,default:!1},title:{type:String,default:"Подтвердите действие"},message:{type:String,required:!0},okMessage:{type:String,default:"ОК"},cancelMessage:{type:String,default:"Отмена"}},methods:{onConfirm:function(){this.$emit("confirm")},onCancel:function(){this.$emit("cancel")}}},a=(n("dXLZ"),n("KHd+")),o=Object(a.a)(i,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-dialog",{attrs:{persistent:"",width:"500"},model:{value:t.state,callback:function(e){t.state=e},expression:"state"}},[n("v-card",[n("v-card-title",{staticClass:"headline blue darken-1 justify-content-between"},[n("span",{staticClass:"white--text"},[t._v(t._s(t.title))]),t._v(" "),n("v-btn",{staticClass:"float-right",attrs:{icon:"",text:""}},[n("v-icon",{attrs:{color:"white"},on:{click:t.onCancel}},[t._v("\n                        mdi-close\n                    ")])],1)],1),t._v(" "),n("v-card-text",{staticClass:"modal-text"},[t._v("\n                "+t._s(t.message)+"\n            ")]),t._v(" "),n("v-divider"),t._v(" "),n("v-card-actions",[n("v-spacer"),t._v(" "),n("v-btn",{attrs:{text:""},on:{click:t.onCancel}},[t._v("\n                    "+t._s(t.cancelMessage)+"\n                ")]),t._v(" "),n("v-btn",{attrs:{color:"success",text:""},on:{click:t.onConfirm}},[t._v("\n                    "+t._s(t.okMessage)+"\n                    "),n("v-icon",[t._v("mdi-check")])],1)],1)],1)],1)],1)}),[],!1,null,"2adaa561",null);e.a=o.exports},"13rT":function(t,e,n){var i=n("tWGx");"string"==typeof i&&(i=[[t.i,i,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(i,a);i.locals&&(t.exports=i.locals)},Xeer:function(t,e,n){"use strict";n.r(e);var i=n("o0o1"),a=n.n(i);function o(t,e,n,i,a,o,s){try{var c=t[o](s),r=c.value}catch(t){return void n(t)}c.done?e(r):Promise.resolve(r).then(i,a)}var s,c,r={props:{state:{type:Boolean,default:!1}},data:function(){return{title:""}},methods:{onSave:(s=a.a.mark((function t(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.$store.dispatch("CREATE_COMPANY",{name:this.title});case 2:this.$emit("onClose");case 3:case"end":return t.stop()}}),t,this)})),c=function(){var t=this,e=arguments;return new Promise((function(n,i){var a=s.apply(t,e);function c(t){o(a,n,i,c,r,"next",t)}function r(t){o(a,n,i,c,r,"throw",t)}c(void 0)}))},function(){return c.apply(this,arguments)})}},d=n("KHd+"),l=Object(d.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-dialog",{attrs:{"max-width":"600",persistent:""},model:{value:t.state,callback:function(e){t.state=e},expression:"state"}},[n("v-card",[n("v-card-title",{staticClass:"d-flex justify-content-between blue darken-1"},[n("span",{staticClass:"white--text"},[t._v("Добавление компании")]),t._v(" "),n("v-btn",{staticClass:"float-right",attrs:{icon:"",text:""},on:{click:function(e){return t.$emit("onClose")}}},[n("v-icon",{attrs:{color:"white"}},[t._v("\n                    mdi-close\n                ")])],1)],1),t._v(" "),n("v-card-text",[n("v-form",{staticClass:"p-3"},[n("v-text-field",{attrs:{label:"Название поля"},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}})],1),t._v(" "),n("v-divider")],1),t._v(" "),n("v-card-actions",[n("v-btn",{attrs:{text:""},on:{click:function(e){return t.$emit("onClose")}}},[t._v("Отмена")]),t._v(" "),n("v-spacer"),t._v(" "),n("v-btn",{attrs:{text:"",color:"success"},on:{click:t.onSave}},[t._v("Сохранить "),n("v-icon",[t._v("mdi-check")])],1)],1)],1)],1)}),[],!1,null,"8841982c",null).exports,v=n("+F2W"),u=(n("vDqi"),n("BWV3"));function f(t,e,n,i,a,o,s){try{var c=t[o](s),r=c.value}catch(t){return void n(t)}c.done?e(r):Promise.resolve(r).then(i,a)}function _(t){return function(){var e=this,n=arguments;return new Promise((function(i,a){var o=t.apply(e,n);function s(t){f(o,i,a,s,c,"next",t)}function c(t){f(o,i,a,s,c,"throw",t)}s(void 0)}))}}var p,m,h={components:{AddCompanyModal:l,ConfirmationModal:v.a},data:function(){return{addModal:!1,delete_id:null,deleteModal:!1,edit_id:null,name:"",editMode:!1}},methods:{deleteItem:(m=_(a.a.mark((function t(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.$store.dispatch("DELETE_COMPANY",this.delete_id);case 2:this.delete_id=null,Object(u.a)("Компания удалена!"),this.deleteModal=!1;case 5:case"end":return t.stop()}}),t,this)}))),function(){return m.apply(this,arguments)}),onEdit:(p=_(a.a.mark((function t(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.$store.dispatch("EDIT_COMPANY",{name:this.name,id:this.edit_id});case 2:this.editMode=!1,this.name="",this.edit_id=null,Object(u.a)("Компания отредактирована!");case 6:case"end":return t.stop()}}),t,this)}))),function(){return p.apply(this,arguments)})},computed:{companies:function(){return this.$store.getters.COMPANIES}}},x=Object(d.a)(h,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-card",[n("v-card-title",[t._v("\n            Компании\n        ")]),t._v(" "),n("v-card-text",[n("div",{staticClass:"p-3"},[n("div",{staticClass:"d-flex justify-content-end mb-3"},[n("v-btn",{attrs:{color:"primary"},on:{click:function(e){t.addModal=!0}}},[t._v("\n                        Добавить компанию\n                        "),n("v-icon",[t._v("mdi-plus")])],1)],1),t._v(" "),n("v-simple-table",{scopedSlots:t._u([{key:"default",fn:function(){return[n("thead",[n("tr",[n("th",[t._v("Название компании")]),t._v(" "),n("th",[t._v("Действие")])])]),t._v(" "),n("tbody",t._l(t.companies,(function(e){return n("tr",{key:e.id},[n("td",[t.edit_id!==e.id?n("span",[t._v(" "+t._s(e.name))]):t._e(),t._v(" "),t.editMode&&t.edit_id===e.id?n("v-text-field",{model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}):t._e()],1),t._v(" "),n("td",[t.editMode?t._e():n("v-btn",{attrs:{icon:""},on:{click:function(n){t.delete_id=e.id,t.deleteModal=!0}}},[n("v-icon",[t._v("mdi-delete")])],1),t._v(" "),t.editMode?t._e():n("v-btn",{attrs:{icon:""},on:{click:function(n){t.edit_id=e.id,t.name=e.name,t.editMode=!0}}},[n("v-icon",[t._v("mdi-pencil")])],1),t._v(" "),t.editMode?n("v-btn",{attrs:{icon:""},on:{click:function(e){t.edit_id=null,t.name="",t.editMode=!1}}},[n("v-icon",[t._v("mdi-cancel")])],1):t._e(),t._v(" "),t.editMode?n("v-btn",{attrs:{icon:""},on:{click:t.onEdit}},[n("v-icon",[t._v("mdi-check")])],1):t._e()],1)])})),0)]},proxy:!0}])})],1)])],1),t._v(" "),n("AddCompanyModal",{attrs:{state:t.addModal},on:{onClose:function(e){t.addModal=!1}}}),t._v(" "),n("ConfirmationModal",{attrs:{state:t.deleteModal,message:"Вы действительно хотите удалить выбранное поле?"},on:{cancel:function(e){t.deleteModal=!1,t.delete_id=null},confirm:t.deleteItem}})],1)}),[],!1,null,"0cb06457",null);e.default=x.exports},dXLZ:function(t,e,n){"use strict";var i=n("13rT");n.n(i).a},tWGx:function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,".modal-text[data-v-2adaa561]{margin-top:15px!important;font-size:16px}",""])}}]);