(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{S3oV:function(e,t,n){"use strict";n.r(t);var o=n("o0o1"),a=n.n(o),s=n("+F2W"),i=n("HKfM"),c=n("BWV3"),l={components:{AddNewsModal:i.a,ConfirmationModal:s.a},methods:{closeDeleteModal:function(){this.deleteModal=!1},closeHideModal:function(){this.hideModal=!1},closeAddModal:function(){this.addModal=!1,Object(c.a)("","Новость успешно добавлена!")},closeEditModal:function(){this.editModal=!1,Object(c.a)("","Новость успешно изменена!")}},data:function(){return{editModal:!1,addModal:!1,hideModal:!1,deleteModal:!1,headers:[{text:"Наименование",value:"title",sortable:!1},{text:"Дата создания",value:"date",sortable:!1},{text:"Действие",value:"action",sortable:!1}],items:[{title:"Новая новость",date:"21.10.2019",isVisible:!0},{title:"Новая новость 2",date:"21.10.2019",isVisible:!1}],search:""}}},d=n("KHd+"),r=Object(d.a)(l,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"d-flex justify-content-between"},[n("v-btn",{staticClass:"button-add",attrs:{color:"primary"}},[e._v("\n            Экспорт данных\n            "),n("v-icon",[e._v("mdi-file-excel-box")])],1),e._v(" "),n("v-btn",{attrs:{color:"primary"},on:{click:function(t){e.addModal=!0}}},[e._v("\n            Добавить новость\n            "),n("v-icon",[e._v("mdi-plus")])],1)],1),e._v(" "),n("v-spacer"),e._v(" "),n("v-spacer"),e._v(" "),n("v-text-field",{staticClass:"mb-2",attrs:{clearable:"","append-icon":"mdi-account-search",label:"Поиск","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),e._v(" "),n("v-data-table",{attrs:{"no-results-text":"Нет результатов","no-data-text":"Нет данных","footer-props":{"items-per-page-options":[10,15,{text:"Все",value:-1}],"items-per-page-text":"Записей на странице"},headers:e.headers,search:e.search,items:e.items},scopedSlots:e._u([{key:"item.action",fn:function(t){var o=t.item;return[n("v-btn",{attrs:{icon:""},on:{click:function(t){e.hideModal=!0}}},[o.isVisible?n("v-icon",[e._v("mdi-eye-off")]):n("v-icon",[e._v("mdi-eye")])],1),e._v(" "),n("v-btn",{attrs:{icon:""},on:{click:function(t){e.editModal=!0}}},[n("v-icon",[e._v("mdi-pencil-outline")])],1),e._v(" "),n("v-btn",{attrs:{icon:""},on:{click:function(t){e.deleteModal=!0}}},[n("v-icon",[e._v("mdi-delete")])],1)]}},{key:"footer.page-text",fn:function(t){var n=t.pageStart,o=t.pageStop,a=t.itemsLength;return[e._v("\n            "+e._s(n)+"-"+e._s(o)+" из "+e._s(a)+"\n        ")]}}])}),e._v(" "),n("ConfirmationModal",{attrs:{message:"Вы действительно хотите удалить выбранную новость?",state:e.deleteModal,"ok-message":"Удалить"},on:{cancel:e.closeDeleteModal,confirm:e.closeDeleteModal}}),e._v(" "),n("ConfirmationModal",{attrs:{"ok-message":"Скрыть",message:"Вы действительно хотите скрыть выбранную новость?",state:e.hideModal},on:{cancel:e.closeHideModal,confirm:e.closeHideModal}}),e._v(" "),n("AddNewsModal",{attrs:{state:e.addModal},on:{onClose:e.closeAddModal}}),e._v(" "),n("AddNewsModal",{attrs:{title:"Редактирование новости","ok-button":"Сохранить","edit-mode":!0,state:e.editModal},on:{onClose:e.closeEditModal}})],1)}),[],!1,null,"75c4b975",null).exports,v=n("kxSr"),u=n("6cC8");function m(e,t,n,o,a,s,i){try{var c=e[s](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(o,a)}var f={components:{NewsSegment:r,StocksSegment:v.a},mounted:function(){var e,t=this;return(e=a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch(u.a.GET_STOCKS);case 2:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(o,a){var s=e.apply(t,n);function i(e){m(s,o,a,i,c,"next",e)}function c(e){m(s,o,a,i,c,"throw",e)}i(void 0)}))})()},data:function(){return{currentSegment:"stocks"}},methods:{switchSegment:function(){this.currentSegment="news"===this.currentSegment?"stocks":"news"}}},p=Object(d.a)(f,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",[n("v-card-title",[e._v("\n        Акции\n    ")]),e._v(" "),n("v-card-text",[n("div",{staticClass:"d-flex p-2"},[n("v-btn",{staticStyle:{width:"300px"},attrs:{depressed:"",color:"stocks"===e.currentSegment?"primary":""},on:{click:function(t){e.currentSegment="stocks"}}},[e._v("Акции\n            ")])],1),e._v(" "),n("div",{staticClass:"p-4"},["news"===e.currentSegment?n("NewsSegment"):n("StocksSegment")],1)])],1)}),[],!1,null,"41543cd1",null);t.default=p.exports}}]);